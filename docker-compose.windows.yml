version: '3.8'

services:
  rccr:
    build: .
    image: ghcr.io/nananina0415/recycluster:latest
    container_name: rccr-setup
    volumes:
      # 현재 디렉토리를 컨테이너의 /workspace에 마운트
      - ./:/workspace
      # SSH 키를 컨테이너에 마운트 (옵션)
      - ~/.ssh:/root/.ssh:ro
    # Windows용: host 네트워크 대신 포트 매핑 사용
    # 주의: 네트워크 스캔 기능이 제한됩니다
    ports:
      - "22:22"   # SSH (필요시)
    stdin_open: true
    tty: true
    command: help
